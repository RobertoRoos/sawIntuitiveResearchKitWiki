# Introduction

There are two different groups of users for the dVRK mechatronics and software, those with a da Vinci Research Kit provided by Intuitive Surgical (2 MTMs, 2PSMs, stereo display and foot pedals) and those with a full decommissioned da Vinci system.  This page addresses some issues specific to the later group.

It is important to notice that is a few hardware features from the full da Vinci system that are not currently supported by the dVRK mechatronics and software:
* Video pipeline and messages in stereo display
* Audio pipeline
* Control panel and switches on the master console arm rest (on/off, scaling, arm pairing, ...)
* Height adjustment for the stereo display
* Head sensor

The dVRK mechatronics and software should support the camera manipulator (ECM) and setup joints:
* For the ECM, we use a FPGA-QLA based PSM controller with a special configuration (XML file) to support the brakes.
* For the setup joints, we use the a single FPGA-QLA board connected to a board designed by Intuitive Surgical (dSIB) which can interface with all 4 setup joints.
 
You should be able to switch back and forth between the mechatronics from ISI and and the dVRK controllers but this requires to unplug a few cables.  The user has to connect the arms, setup joints and foot pedal directly to the dVRK controllers:
* MTM cables can be found on the back of the master console, the covers need to be removed.
* Foot pedal cable can be found on the front of the master console, under the stereo display and the cover needs to be removed.  This cable is rather short so one might consider investing in an extension cable.
* On the patient side, both setup joints and arms need to be unplugged from the back of the cart to be connected to the controllers.  The long cables normally used to connect the patient cart to the master console are not used.

## ECM

The main difference between the ECM and the PSM is the active brakes on the first 3 joints.

### XML configuration

A default configuration file will be generated by our Matlab config generator.  You'll need the ECM calibration file (`.cal`) and make sure you select "ECM" for the hardware type.  In the generated configuration file, pay attention to the section "AnalogBrake":



### Current feedback calibration

### Adjusting brake settings

### dMIB modification for setup joints switch
 
## Setup joints